
window.onload = function() {
  // Build a system
  var url = window.location.search.match(/url=([^&]+)/);
  if (url && url.length > 1) {
    url = decodeURIComponent(url[1]);
  } else {
    url = window.location.origin;
  }
  var options = {
  "swaggerDoc": {
    "openapi": "3.0.0",
    "info": {
      "title": "mBKM API",
      "version": "1.0.0",
      "description": "Dokumentacja API dla aplikacji mBKM"
    },
    "components": {
      "securitySchemes": {
        "bearerAuth": {
          "type": "http",
          "scheme": "bearer",
          "bearerFormat": "JWT"
        }
      }
    },
    "servers": [
      {
        "url": "http://localhost:3001"
      }
    ],
    "paths": {
      "/api/stop": {
        "post": {
          "summary": "Tworzenie lub aktualizacja przystanku",
          "description": "Wymagany token w nagłówku, uprawnienia - administrator.",
          "tags": [
            "BusStop"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "description": "Nazwa przystanku",
                      "example": "Przystanek A"
                    },
                    "longitude": {
                      "type": "number",
                      "description": "Długość geograficzna przystanku",
                      "example": 21.0122
                    },
                    "latitude": {
                      "type": "number",
                      "description": "Szerokość geograficzna przystanku",
                      "example": 52.2298
                    },
                    "isActive": {
                      "type": "boolean",
                      "description": "Status aktywności przystanku",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Przystanek został pomyślnie utworzony lub zaktualizowany",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "_id": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                      },
                      "name": {
                        "type": "string",
                        "example": "Przystanek A"
                      },
                      "longitude": {
                        "type": "number",
                        "example": 21.0122
                      },
                      "latitude": {
                        "type": "number",
                        "example": 52.2298
                      },
                      "isActive": {
                        "type": "boolean",
                        "example": true
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Niepoprawne zapytanie"
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/stops": {
        "get": {
          "summary": "Pobranie wszystkich przystanków",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "BusStop"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Lista przystanków",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "_id": {
                          "type": "string",
                          "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                        },
                        "name": {
                          "type": "string",
                          "example": "Przystanek A"
                        },
                        "longitude": {
                          "type": "number",
                          "example": 21.0122
                        },
                        "latitude": {
                          "type": "number",
                          "example": 52.2298
                        },
                        "isActive": {
                          "type": "boolean",
                          "example": true
                        }
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Nie znaleziono przystanków"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/stops/table": {
        "get": {
          "summary": "Pobranie przystanków z paginacją i opcją wyszukiwania",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "BusStop"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "query",
              "name": "page",
              "schema": {
                "type": "integer",
                "default": 1
              },
              "description": "Numer strony"
            },
            {
              "in": "query",
              "name": "pageSize",
              "schema": {
                "type": "integer",
                "default": 10
              },
              "description": "Rozmiar strony"
            },
            {
              "in": "query",
              "name": "searchQuery",
              "schema": {
                "type": "string"
              },
              "description": "Zapytanie wyszukiwania"
            }
          ],
          "responses": {
            "200": {
              "description": "Lista przystanków",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string",
                              "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                            },
                            "name": {
                              "type": "string",
                              "example": "Przystanek A"
                            },
                            "longitude": {
                              "type": "number",
                              "example": 21.0122
                            },
                            "latitude": {
                              "type": "number",
                              "example": 52.2298
                            },
                            "isActive": {
                              "type": "boolean",
                              "example": true
                            }
                          }
                        }
                      },
                      "page": {
                        "type": "integer",
                        "example": 1
                      },
                      "pageSize": {
                        "type": "integer",
                        "example": 10
                      },
                      "total": {
                        "type": "integer",
                        "example": 100
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Niepoprawne zapytanie"
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Nie znaleziono przystanków"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/stop/{id}": {
        "get": {
          "summary": "Pobranie przystanku po ID",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "BusStop"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "path",
              "name": "id",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "ID przystanku"
            }
          ],
          "responses": {
            "200": {
              "description": "Obiekt przystanku",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "_id": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                      },
                      "name": {
                        "type": "string",
                        "example": "Przystanek A"
                      },
                      "longitude": {
                        "type": "number",
                        "example": 21.0122
                      },
                      "latitude": {
                        "type": "number",
                        "example": 52.2298
                      },
                      "isActive": {
                        "type": "boolean",
                        "example": true
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Niepoprawne ID"
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Przystanek nie znaleziony"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        },
        "delete": {
          "summary": "Usunięcie przystanku po ID",
          "description": "Wymagany token w nagłówku, uprawnienia - administrator.",
          "tags": [
            "BusStop"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "path",
              "name": "id",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "ID przystanku do usunięcia"
            }
          ],
          "responses": {
            "200": {
              "description": "Sukces, przystanek usunięty",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "message": {
                        "type": "string",
                        "example": "Bus stop with ID 5f8d0a4a8b1e1a5b5e7b8d8b successfully removed"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Niepoprawne ID"
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Przystanek nie znaleziony"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/line": {
        "post": {
          "summary": "Tworzenie lub aktualizacja linii",
          "description": "Wymagany token w nagłówku, uprawnienia - administrator.",
          "tags": [
            "Line"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "number": {
                      "type": "string",
                      "example": "123"
                    },
                    "name": {
                      "type": "string",
                      "example": "Line A"
                    },
                    "isActive": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Linia została pomyślnie utworzona lub zaktualizowana",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "_id": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                      },
                      "number": {
                        "type": "string",
                        "example": "123"
                      },
                      "name": {
                        "type": "string",
                        "example": "Line A"
                      },
                      "isActive": {
                        "type": "boolean",
                        "example": true
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Złe dane wejściowe"
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/lines": {
        "get": {
          "summary": "Pobieranie wszystkich linii",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Line"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Zwraca listę wszystkich linii",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "_id": {
                          "type": "string",
                          "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                        },
                        "number": {
                          "type": "string",
                          "example": "123"
                        },
                        "name": {
                          "type": "string",
                          "example": "Line A"
                        },
                        "isActive": {
                          "type": "boolean",
                          "example": true
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Brak autoryzacji"
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Nie znaleziono danych"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/lines/table": {
        "get": {
          "summary": "Pobieranie linii z możliwością paginacji i wyszukiwania",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Line"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "query",
              "name": "page",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 1
              },
              "description": "Numer strony"
            },
            {
              "in": "query",
              "name": "pageSize",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 10
              },
              "description": "Liczba elementów na stronie"
            },
            {
              "in": "query",
              "name": "searchQuery",
              "required": false,
              "schema": {
                "type": "string"
              },
              "description": "Zapytanie do wyszukiwania linii"
            }
          ],
          "responses": {
            "200": {
              "description": "Zwraca listę linii",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "_id": {
                          "type": "string",
                          "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                        },
                        "number": {
                          "type": "string",
                          "example": "123"
                        },
                        "name": {
                          "type": "string",
                          "example": "Line A"
                        },
                        "isActive": {
                          "type": "boolean",
                          "example": true
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Niepoprawne zapytanie"
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Brak wyników pasujących do zapytania"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/line/{id}": {
        "get": {
          "summary": "Pobieranie linii po ID",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Line"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "path",
              "name": "id",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Unikalne ID linii"
            }
          ],
          "responses": {
            "200": {
              "description": "Zwraca szczegóły linii",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "_id": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                      },
                      "number": {
                        "type": "string",
                        "example": "123"
                      },
                      "name": {
                        "type": "string",
                        "example": "Line A"
                      },
                      "isActive": {
                        "type": "boolean",
                        "example": true
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Niepoprawne ID"
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Linia o podanym ID nie została znaleziona"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        },
        "delete": {
          "summary": "Usuwanie linii",
          "description": "Wymagany token w nagłówku, uprawnienia - administrator.",
          "tags": [
            "Line"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "path",
              "name": "id",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Identyfikator linii do usunięcia"
            }
          ],
          "responses": {
            "200": {
              "description": "Linia została pomyślnie usunięta",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "message": {
                        "type": "string",
                        "example": "Line with ID 5f8d0a4a8b1e1a5b5e7b8d8b successfully removed"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Niepoprawne zapytanie"
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Linia nie została znaleziona"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/metadata": {
        "get": {
          "summary": "Pobierz metadane związane z biletami i płatnościami",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Metadata"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Metadane biletów i płatności",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "ticketTypes": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "name": {
                              "type": "string",
                              "example": "Standard"
                            },
                            "label": {
                              "type": "string",
                              "example": "Standard Ticket"
                            }
                          }
                        }
                      },
                      "ticketPeriods": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "name": {
                              "type": "string",
                              "example": "Monthly"
                            },
                            "label": {
                              "type": "string",
                              "example": "Monthly Ticket"
                            },
                            "period": {
                              "type": "string",
                              "example": "30 days"
                            }
                          }
                        }
                      },
                      "ticketLines": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "name": {
                              "type": "string",
                              "example": "Line 1"
                            },
                            "label": {
                              "type": "string",
                              "example": "Line 1"
                            }
                          }
                        }
                      },
                      "reliefTypes": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "name": {
                              "type": "string",
                              "example": "Senior"
                            },
                            "label": {
                              "type": "string",
                              "example": "Senior Relief"
                            }
                          }
                        }
                      },
                      "paymentMethods": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "name": {
                              "type": "string",
                              "example": "Credit Card"
                            },
                            "label": {
                              "type": "string",
                              "example": "Credit Card"
                            },
                            "entypoIcon": {
                              "type": "string",
                              "example": "credit-card"
                            }
                          }
                        }
                      },
                      "statusTypes": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "name": {
                              "type": "string",
                              "example": "Active"
                            },
                            "label": {
                              "type": "string",
                              "example": "Active Ticket"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "404": {
              "description": "Jedno lub więcej metadanych nie zostało znalezionych w cache"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/admin/dashboard/{days}": {
        "get": {
          "summary": "Pobierz statystyki dashboardu administratora",
          "description": "Wymagany token w nagłówku, uprawnienia - administrator.",
          "parameters": [
            {
              "in": "path",
              "name": "days",
              "required": true,
              "description": "Liczba dni, na podstawie której mają zostać wyciągnięte statystyki",
              "schema": {
                "type": "integer",
                "example": 7
              }
            }
          ],
          "tags": [
            "Metadata"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Statystyki dashboardu administratora",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "transactions": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "number": {
                              "type": "string",
                              "example": "TX123456"
                            },
                            "userId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "finalPrice": {
                              "type": "number",
                              "example": 25.5
                            },
                            "currency": {
                              "type": "string",
                              "example": "PLN"
                            },
                            "paymentDate": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-01-18T12:00:00Z"
                            },
                            "status": {
                              "type": "string",
                              "example": "Completed"
                            }
                          }
                        }
                      },
                      "userTickets": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "userId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "ticketId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "ticketStatus": {
                              "type": "string",
                              "example": "Active"
                            },
                            "purchaseDate": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-01-18T12:00:00Z"
                            }
                          }
                        }
                      },
                      "usersTotalAmount": {
                        "type": "number",
                        "example": 1000
                      },
                      "activeUsers": {
                        "type": "number",
                        "example": 150
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Zły format danych wejściowych"
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/pay/wallet": {
        "post": {
          "summary": "Dokonaj płatności z portfela",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Payment"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "amount": {
                      "type": "number",
                      "description": "Kwota do zapłaty",
                      "example": 50
                    },
                    "transactionId": {
                      "type": "string",
                      "description": "Identyfikator transakcji",
                      "example": "tx12345"
                    },
                    "walletId": {
                      "type": "string",
                      "description": "Identyfikator portfela",
                      "example": "wallet123"
                    },
                    "userTicketId": {
                      "type": "string",
                      "description": "Identyfikator biletu użytkownika",
                      "example": "ticket123"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Udana płatność",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "example": "payment123"
                      },
                      "amount": {
                        "type": "number",
                        "example": 50
                      },
                      "userId": {
                        "type": "string",
                        "example": "user123"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Zły format danych wejściowych"
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "403": {
              "description": "Niedozwolony dostęp"
            },
            "404": {
              "description": "Nie znaleziono zasobu"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/pay/card": {
        "post": {
          "summary": "Dokonaj płatności kartą",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Payment"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "amount": {
                      "type": "number",
                      "description": "Kwota do zapłaty",
                      "example": 100
                    },
                    "transactionId": {
                      "type": "string",
                      "description": "Identyfikator transakcji",
                      "example": "tx12345"
                    },
                    "cardNumber": {
                      "type": "string",
                      "description": "Numer karty kredytowej",
                      "example": "4111111111111111"
                    },
                    "expiryDate": {
                      "type": "string",
                      "description": "Data ważności karty w formacie MM/YY",
                      "example": "12/25"
                    },
                    "cvv": {
                      "type": "string",
                      "description": "Kod CVV karty",
                      "example": "123"
                    },
                    "userTicketId": {
                      "type": "string",
                      "description": "Identyfikator biletu użytkownika",
                      "example": "ticket123"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Udana płatność kartą",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "example": "payment123"
                      },
                      "number": {
                        "type": "string",
                        "example": "tx12345"
                      },
                      "userId": {
                        "type": "string",
                        "example": "user123"
                      },
                      "finalPrice": {
                        "type": "number",
                        "example": 100
                      },
                      "currency": {
                        "type": "string",
                        "example": "PLN"
                      },
                      "paymentDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-01-19T12:00:00Z"
                      },
                      "referenceId": {
                        "type": "string",
                        "example": "ref123"
                      },
                      "methodId": {
                        "type": "string",
                        "example": "method123"
                      },
                      "status": {
                        "type": "string",
                        "example": "progress"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Zły format danych wejściowych"
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Nie znaleziono zasobu"
            },
            "406": {
              "description": "Nieakceptowalny typ danych"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/pay/blik": {
        "post": {
          "summary": "Dokonaj płatności Blik",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Payment"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "amount": {
                      "type": "number",
                      "description": "Kwota do zapłaty",
                      "example": 100
                    },
                    "transactionId": {
                      "type": "string",
                      "description": "Identyfikator transakcji",
                      "example": "tx12345"
                    },
                    "code": {
                      "type": "string",
                      "description": "kod blik",
                      "example": "tx12345"
                    },
                    "userTicketId": {
                      "type": "string",
                      "description": "Identyfikator biletu użytkownika",
                      "example": "ticket123"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Udana płatność Blik",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "example": "payment123"
                      },
                      "number": {
                        "type": "string",
                        "example": "tx12345"
                      },
                      "userId": {
                        "type": "string",
                        "example": "user123"
                      },
                      "finalPrice": {
                        "type": "number",
                        "example": 100
                      },
                      "currency": {
                        "type": "string",
                        "example": "PLN"
                      },
                      "paymentDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-01-19T12:00:00Z"
                      },
                      "referenceId": {
                        "type": "string",
                        "example": "ref123"
                      },
                      "methodId": {
                        "type": "string",
                        "example": "method123"
                      },
                      "status": {
                        "type": "string",
                        "example": "progress"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Zły format danych wejściowych"
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Nie znaleziono zasobu"
            },
            "406": {
              "description": "Nieakceptowalny typ danych"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/top-up/card": {
        "post": {
          "summary": "Doładuj portfel za pomocą karty",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Payment"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "amount": {
                      "type": "number",
                      "example": 100
                    },
                    "topUpId": {
                      "type": "string",
                      "example": "5f8d0a4a8b1e1a5b5e7b8d8f"
                    },
                    "cardNumber": {
                      "type": "string",
                      "example": "1234567812345678"
                    },
                    "expiryDate": {
                      "type": "string",
                      "example": "12/25"
                    },
                    "cvv": {
                      "type": "string",
                      "example": "123"
                    },
                    "walletId": {
                      "type": "string",
                      "example": "5f8d0a4a8b1e1a5b5e7b8d8a"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Udane doładowanie portfela",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8a"
                      },
                      "userId": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                      },
                      "balance": {
                        "type": "number",
                        "example": 150
                      },
                      "currency": {
                        "type": "string",
                        "example": "PLN"
                      },
                      "updatedAt": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-01-19T12:00:00Z"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Zły format danych wejściowych"
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Nie znaleziono zasobu"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/top-up/blik": {
        "post": {
          "summary": "Doładuj portfel za pomocą BLIK",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Payment"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "amount": {
                      "type": "number",
                      "example": 100
                    },
                    "topUpId": {
                      "type": "string",
                      "example": "5f8d0a4a8b1e1a5b5e7b8d8f"
                    },
                    "code": {
                      "type": "string",
                      "example": "tx12345"
                    },
                    "walletId": {
                      "type": "string",
                      "example": "5f8d0a4a8b1e1a5b5e7b8d8a"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Udane doładowanie portfela",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8a"
                      },
                      "userId": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                      },
                      "balance": {
                        "type": "number",
                        "example": 150
                      },
                      "currency": {
                        "type": "string",
                        "example": "PLN"
                      },
                      "updatedAt": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-01-19T12:00:00Z"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Zły format danych wejściowych"
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Nie znaleziono zasobu"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/relief": {
        "post": {
          "summary": "Utwórz lub zaktualizuj ulgę",
          "description": "Wymagany token w nagłówku, uprawnienia - administrator.",
          "tags": [
            "Relief"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "example": "Ulga studencka"
                    },
                    "type": {
                      "type": "string",
                      "example": "5f8d0a4a8b1e1a5b5e7b8d8f"
                    },
                    "ticketType": {
                      "type": "string",
                      "example": "5f8d0a4a8b1e1a5b5e7b8d8a"
                    },
                    "percentage": {
                      "type": "number",
                      "example": 10
                    },
                    "isActive": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Sukces - utworzono lub zaktualizowano ulgę",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "_id": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                      },
                      "name": {
                        "type": "string",
                        "example": "Ulga studencka"
                      },
                      "type": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8f"
                      },
                      "ticketType": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8a"
                      },
                      "percentage": {
                        "type": "number",
                        "example": 10
                      },
                      "isActive": {
                        "type": "boolean",
                        "example": true
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Zły format danych wejściowych"
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Nie znaleziono zasobu"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/reliefs": {
        "get": {
          "summary": "Pobierz wszystkie ulgi",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Relief"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Sukces - lista ulg",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "_id": {
                          "type": "string",
                          "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                        },
                        "name": {
                          "type": "string",
                          "example": "Ulga studencka"
                        },
                        "type": {
                          "type": "string",
                          "example": "5f8d0a4a8b1e1a5b5e7b8d8f"
                        },
                        "ticketType": {
                          "type": "string",
                          "example": "5f8d0a4a8b1e1a5b5e7b8d8a"
                        },
                        "percentage": {
                          "type": "number",
                          "example": 10
                        },
                        "isActive": {
                          "type": "boolean",
                          "example": true
                        }
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Ulga nie znaleziona"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/relief/{name}": {
        "get": {
          "summary": "Pobierz ulgę po nazwie",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Relief"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "name",
              "in": "path",
              "description": "Nazwa ulgi",
              "required": true,
              "schema": {
                "type": "string",
                "example": "Ulga studencka"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Sukces - szczegóły ulgi",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "_id": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                      },
                      "name": {
                        "type": "string",
                        "example": "Ulga studencka"
                      },
                      "type": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8f"
                      },
                      "ticketType": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8a"
                      },
                      "percentage": {
                        "type": "number",
                        "example": 10
                      },
                      "isActive": {
                        "type": "boolean",
                        "example": true
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Ulga nie znaleziona"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/reliefs/table": {
        "get": {
          "summary": "Pobierz ulgi z paginacją i opcją wyszukiwania",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Relief"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "description": "Numer strony (domyślnie 1)",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 1
              }
            },
            {
              "name": "pageSize",
              "in": "query",
              "description": "Liczba wyników na stronie (domyślnie 10)",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 10
              }
            },
            {
              "name": "searchQuery",
              "in": "query",
              "description": "Zapytanie do wyszukiwania",
              "required": false,
              "schema": {
                "type": "string",
                "example": "studencka"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Sukces - lista ulg",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "_id": {
                          "type": "string",
                          "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                        },
                        "name": {
                          "type": "string",
                          "example": "Ulga studencka"
                        },
                        "type": {
                          "type": "string",
                          "example": "5f8d0a4a8b1e1a5b5e7b8d8f"
                        },
                        "ticketType": {
                          "type": "string",
                          "example": "5f8d0a4a8b1e1a5b5e7b8d8a"
                        },
                        "percentage": {
                          "type": "number",
                          "example": 10
                        },
                        "isActive": {
                          "type": "boolean",
                          "example": true
                        },
                        "typeName": {
                          "type": "string",
                          "example": "Studencka"
                        },
                        "typeLabel": {
                          "type": "string",
                          "example": "Ulga dla studentów"
                        },
                        "ticketTypeName": {
                          "type": "string",
                          "example": "Bilet jednorazowy"
                        },
                        "ticketTypeLabel": {
                          "type": "string",
                          "example": "Bilet normalny"
                        }
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Ulga nie znaleziona"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/relief/{id}": {
        "get": {
          "summary": "Pobierz ulgę po ID",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Relief"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "description": "ID ulgi",
              "required": true,
              "schema": {
                "type": "string",
                "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Sukces - szczegóły ulgi",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "_id": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                      },
                      "name": {
                        "type": "string",
                        "example": "Ulga studencka"
                      },
                      "type": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8f"
                      },
                      "ticketType": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8a"
                      },
                      "percentage": {
                        "type": "number",
                        "example": 10
                      },
                      "isActive": {
                        "type": "boolean",
                        "example": true
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Ulga nie znaleziona"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        },
        "delete": {
          "summary": "Usuń ulgę po ID",
          "description": "Wymagany token w nagłówku, uprawnienia - administrator.",
          "tags": [
            "Relief"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "description": "ID ulgi do usunięcia",
              "required": true,
              "schema": {
                "type": "string",
                "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Sukces - ulga została usunięta",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "message": {
                        "type": "string",
                        "example": "Relief with ID 5f8d0a4a8b1e1a5b5e7b8d8b successfully removed"
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Ulga nie została znaleziona"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/ticket": {
        "post": {
          "summary": "Tworzenie lub aktualizowanie biletu",
          "description": "Wymagany token w nagłówku, uprawnienia - administrator.",
          "tags": [
            "Ticket"
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "description": "Typ biletu",
                      "example": "64aef23456789abcd1234567"
                    },
                    "lines": {
                      "type": "string",
                      "description": "Liczba linii biletu",
                      "example": "64aef23456789abcd1234567"
                    },
                    "period": {
                      "type": "string",
                      "description": "Okres biletu (opcjonalne)",
                      "example": "64aef23456789abcd1234567"
                    },
                    "price": {
                      "type": "number",
                      "description": "Cena biletu",
                      "example": 50
                    },
                    "offerStartDate": {
                      "type": "string",
                      "format": "date-time",
                      "description": "Data rozpoczęcia oferty",
                      "example": "2025-01-19T12:00:00Z"
                    },
                    "offerEndDate": {
                      "type": "string",
                      "format": "date-time",
                      "description": "Data zakończenia oferty (opcjonalne)",
                      "example": "2025-02-19T12:00:00Z"
                    }
                  }
                }
              }
            }
          },
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Pomyślnie utworzono lub zaktualizowano bilet",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "_id": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "type": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "lines": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "period": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "price": {
                        "type": "number",
                        "example": 50
                      },
                      "offerStartDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-01-19T12:00:00Z"
                      },
                      "offerEndDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-02-19T12:00:00Z"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Błędne dane w ciele zapytania"
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "409": {
              "description": "Konflikt podczas tworzenia/aktualizowania biletu"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/tickets": {
        "get": {
          "summary": "Pobierz wszystkie bilety",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Ticket"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Pomyślnie pobrano listę biletów",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "_id": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        },
                        "type": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        },
                        "lines": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        },
                        "period": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        },
                        "price": {
                          "type": "number",
                          "example": 50
                        },
                        "offerStartDate": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-01-19T12:00:00Z"
                        },
                        "offerEndDate": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-02-19T12:00:00Z"
                        },
                        "typeName": {
                          "type": "string",
                          "example": "Standard"
                        },
                        "typeLabel": {
                          "type": "string",
                          "example": "Standard Ticket"
                        },
                        "periodName": {
                          "type": "string",
                          "example": "Monthly"
                        },
                        "periodLabel": {
                          "type": "string",
                          "example": "30 days"
                        },
                        "lineName": {
                          "type": "string",
                          "example": "Line 1"
                        },
                        "lineLabel": {
                          "type": "string",
                          "example": "Main Route"
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Nieprawidłowe dane wejściowe"
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "404": {
              "description": "Nieodpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/tickets/table": {
        "get": {
          "summary": "Pobierz bilety z tabeli z paginacją i wyszukiwaniem",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Ticket"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "query",
              "name": "page",
              "required": false,
              "schema": {
                "type": "integer",
                "default": 1
              },
              "description": "Numer strony (domyślnie 1)."
            },
            {
              "in": "query",
              "name": "pageSize",
              "required": false,
              "schema": {
                "type": "integer",
                "default": 10
              },
              "description": "Liczba elementów na stronie (domyślnie 10)."
            },
            {
              "in": "query",
              "name": "searchQuery",
              "required": false,
              "schema": {
                "type": "string"
              },
              "description": "Zapytanie do wyszukiwania biletów."
            },
            {
              "in": "query",
              "name": "removeDuplicates",
              "required": false,
              "schema": {
                "type": "boolean"
              },
              "description": "Flaga do usuwania duplikatów."
            }
          ],
          "responses": {
            "200": {
              "description": "Pomyślnie pobrano bilety z tabeli",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "type": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "lines": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "period": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "price": {
                              "type": "number",
                              "example": 50
                            },
                            "offerStartDate": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-01-19T12:00:00Z"
                            },
                            "offerEndDate": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-02-19T12:00:00Z"
                            },
                            "typeName": {
                              "type": "string",
                              "example": "Standard"
                            },
                            "typeLabel": {
                              "type": "string",
                              "example": "Standard Ticket"
                            },
                            "periodName": {
                              "type": "string",
                              "example": "Monthly"
                            },
                            "periodLabel": {
                              "type": "string",
                              "example": "30 days"
                            },
                            "lineName": {
                              "type": "string",
                              "example": "Line 1"
                            },
                            "lineLabel": {
                              "type": "string",
                              "example": "Main Route"
                            }
                          }
                        }
                      },
                      "page": {
                        "type": "integer",
                        "example": 1
                      },
                      "pageSize": {
                        "type": "integer",
                        "example": 10
                      },
                      "totalPages": {
                        "type": "integer",
                        "example": 5
                      },
                      "totalRecords": {
                        "type": "integer",
                        "example": 50
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Nieprawidłowe dane wejściowe"
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "404": {
              "description": "Nieodpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/ticket/{id}": {
        "get": {
          "summary": "Pobierz szczegóły biletu",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Ticket"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "path",
              "name": "id",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Identyfikator biletu, który ma zostać pobrany."
            }
          ],
          "responses": {
            "200": {
              "description": "Pomyślnie pobrano szczegóły biletu",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "_id": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "type": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "lines": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "period": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "price": {
                        "type": "number",
                        "example": 50
                      },
                      "offerStartDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-01-19T12:00:00Z"
                      },
                      "offerEndDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-02-19T12:00:00Z"
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "404": {
              "description": "Bilet o podanym identyfikatorze nie został znaleziony"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        },
        "delete": {
          "summary": "Usuń bilet",
          "description": "Endpoint do usuwania biletu na podstawie jego identyfikatora.",
          "tags": [
            "Ticket"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "path",
              "name": "id",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Identyfikator biletu, który ma zostać usunięty."
            }
          ],
          "responses": {
            "200": {
              "description": "Pomyślnie usunięto bilet",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "message": {
                        "type": "string",
                        "example": "Ticket with ID 64aef23456789abcd1234567 successfully removed"
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "404": {
              "description": "Bilet o podanym identyfikatorze nie został znaleziony"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/top-up/create": {
        "post": {
          "summary": "Tworzenie lub aktualizowanie doładowania",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "TopUps"
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "number": {
                      "type": "string",
                      "description": "przysłamy pusty string",
                      "example": ""
                    },
                    "userId": {
                      "type": "string",
                      "example": "64aef23456789abcd1234567"
                    },
                    "amount": {
                      "type": "number",
                      "example": 100
                    },
                    "paymentDate": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2025-01-19T12:00:00Z"
                    },
                    "referenceId": {
                      "type": "string",
                      "description": "przysłamy pusty string",
                      "example": ""
                    },
                    "methodId": {
                      "type": "string",
                      "example": "609f65f1e7b0b5c9d7c15e71"
                    }
                  }
                }
              }
            }
          },
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "201": {
              "description": "Doładowanie zostało pomyślnie utworzone lub zaktualizowane",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "number": {
                        "type": "string",
                        "example": "TX123456"
                      },
                      "userId": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "amount": {
                        "type": "number",
                        "example": 100
                      },
                      "currency": {
                        "type": "string",
                        "example": "PLN"
                      },
                      "paymentDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-01-19T12:00:00Z"
                      },
                      "referenceId": {
                        "type": "string",
                        "example": "REF123456"
                      },
                      "methodId": {
                        "type": "string",
                        "example": "609f65f1e7b0b5c9d7c15e71"
                      },
                      "status": {
                        "type": "string",
                        "example": "progress"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Błędne dane zapytania"
            },
            "401": {
              "description": "Brak uprawnień"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/top-ups/all/{userId}": {
        "get": {
          "summary": "Pobierz wszystkie doładowania użytkownika",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "TopUps"
          ],
          "parameters": [
            {
              "in": "path",
              "name": "userId",
              "required": true,
              "description": "ID użytkownika, którego doładowania mają zostać pobrane",
              "schema": {
                "type": "string",
                "example": "64aef23456789abcd1234567"
              }
            }
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Pomyślnie pobrano doładowania użytkownika",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        },
                        "number": {
                          "type": "string",
                          "example": "TX123456"
                        },
                        "userId": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        },
                        "amount": {
                          "type": "number",
                          "example": 100
                        },
                        "currency": {
                          "type": "string",
                          "example": "PLN"
                        },
                        "paymentDate": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-01-19T12:00:00Z"
                        },
                        "referenceId": {
                          "type": "string",
                          "example": "REF123456"
                        },
                        "methodId": {
                          "type": "string",
                          "example": "609f65f1e7b0b5c9d7c15e71"
                        },
                        "status": {
                          "type": "string",
                          "example": "progress"
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Błędne dane zapytania"
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/top-up/{id}": {
        "get": {
          "summary": "Pobierz szczegóły doładowania po ID",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "TopUps"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "path",
              "name": "id",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "ID doładowania"
            }
          ],
          "responses": {
            "200": {
              "description": "Szczegóły doładowania",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8b"
                      },
                      "number": {
                        "type": "string",
                        "example": "123456789"
                      },
                      "userId": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8a"
                      },
                      "amount": {
                        "type": "number",
                        "example": 100
                      },
                      "currency": {
                        "type": "string",
                        "example": "PLN"
                      },
                      "paymentDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-01-19T12:00:00Z"
                      },
                      "referenceId": {
                        "type": "string",
                        "example": "ref12345"
                      },
                      "methodId": {
                        "type": "string",
                        "example": "5f8d0a4a8b1e1a5b5e7b8d8c"
                      },
                      "status": {
                        "type": "string",
                        "example": "progress"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Niepoprawne ID"
            },
            "401": {
              "description": "Brak autoryzacji"
            },
            "404": {
              "description": "Doładowanie nie znalezione"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/top-ups": {
        "get": {
          "summary": "Pobierz listę doładowań z paginacją",
          "description": "Wymagany token w nagłówku, uprawnienia - administrator.",
          "tags": [
            "TopUps"
          ],
          "parameters": [
            {
              "in": "query",
              "name": "page",
              "required": false,
              "description": "Numer strony (domyślnie 1)",
              "schema": {
                "type": "integer",
                "example": 1
              }
            },
            {
              "in": "query",
              "name": "pageSize",
              "required": false,
              "description": "Liczba elementów na stronie (domyślnie 10)",
              "schema": {
                "type": "integer",
                "example": 10
              }
            },
            {
              "in": "query",
              "name": "searchQuery",
              "required": false,
              "description": "Zapytanie do wyszukiwania w doładowaniach",
              "schema": {
                "type": "string",
                "example": "TX123456"
              }
            }
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Pomyślnie pobrano listę doładowań",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "number": {
                              "type": "string",
                              "example": "TX123456"
                            },
                            "userId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "amount": {
                              "type": "number",
                              "example": 100
                            },
                            "currency": {
                              "type": "string",
                              "example": "PLN"
                            },
                            "paymentDate": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-01-19T12:00:00Z"
                            },
                            "referenceId": {
                              "type": "string",
                              "example": "REF123456"
                            },
                            "methodId": {
                              "type": "string",
                              "example": "609f65f1e7b0b5c9d7c15e71"
                            },
                            "method": {
                              "type": "string",
                              "example": "Credit Card"
                            },
                            "status": {
                              "type": "string",
                              "example": "progress"
                            },
                            "userEmail": {
                              "type": "string",
                              "example": "user@example.com"
                            }
                          }
                        }
                      },
                      "page": {
                        "type": "integer",
                        "example": 1
                      },
                      "pageSize": {
                        "type": "integer",
                        "example": 10
                      },
                      "totalPages": {
                        "type": "integer",
                        "example": 5
                      },
                      "totalRecords": {
                        "type": "integer",
                        "example": 50
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Błędne dane zapytania"
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/top-up/rollback": {
        "delete": {
          "summary": "Cofnięcie doładowania",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "TopUps"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "query",
              "name": "topUpId",
              "required": true,
              "description": "ID doładowania, które należy cofnąć",
              "schema": {
                "type": "string",
                "example": "64aef23456789abcd1234567"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Potwierdzenie sukcesu operacji rollback",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "message": {
                        "type": "string",
                        "example": "TopUp with ID 64aef23456789abcd1234567 successfully rollback"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Nieprawidłowe dane wejściowe"
            },
            "401": {
              "description": "Brak dostępu"
            },
            "404": {
              "description": "Transakcja nie istnieje"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/transaction/create": {
        "post": {
          "summary": "Tworzenie nowej transakcji",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Transactions"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "transactionData": {
                      "type": "object",
                      "description": "Dane transakcji",
                      "properties": {
                        "number": {
                          "type": "string",
                          "description": "id (pusty string)",
                          "example": ""
                        },
                        "userId": {
                          "type": "string",
                          "description": "id użytkownika",
                          "example": "64aef23456789abcd1234567"
                        },
                        "finalPrice": {
                          "type": "number",
                          "description": "ostateczna cena",
                          "example": 29.9
                        },
                        "paymentDate": {
                          "type": "string",
                          "description": "Data transakcji (ISO String)",
                          "example": "2025-01-15T14:30:00Z"
                        },
                        "referenceId": {
                          "type": "string",
                          "description": "id (pusty string)",
                          "example": ""
                        },
                        "methodId": {
                          "type": "string",
                          "description": "id metody płatności",
                          "example": "64ae552251789abfdd123467"
                        }
                      }
                    },
                    "userTicketData": {
                      "type": "object",
                      "description": "Dane użytkownika związane z biletem",
                      "properties": {
                        "number": {
                          "type": "string",
                          "description": "numer transakcji (pusty string)",
                          "example": ""
                        },
                        "transactionId": {
                          "type": "string",
                          "description": "id transakcji(pusty string)",
                          "example": ""
                        },
                        "reliefId": {
                          "type": "string",
                          "description": "ID biletu",
                          "example": "75ae0345bd45678cde987654"
                        },
                        "lineId": {
                          "type": "string",
                          "description": "ID biletu",
                          "example": "75ae0345bd45678cde987654"
                        },
                        "price": {
                          "type": "number",
                          "description": "cena",
                          "example": 29.9
                        },
                        "paymentDate": {
                          "type": "string",
                          "description": "Data zakupu (ISO String)",
                          "example": "2025-01-15T14:30:00Z"
                        },
                        "userId": {
                          "type": "string",
                          "description": "id użytkownika",
                          "example": "64aef23456789abcd1234567"
                        },
                        "ticketId": {
                          "type": "string",
                          "description": "ID biletu",
                          "example": "75ae0345bd45678cde987654"
                        },
                        "statusId": {
                          "type": "string",
                          "description": "ID biletu",
                          "example": "75ae0345bd45678cde987654"
                        },
                        "startDate": {
                          "type": "string",
                          "description": "data rozpoczęcia (gdy jest bilet jednorazowy przesłać pusty string)",
                          "example": "2025-01-15T14:30:00Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Transakcja została pomyślnie utworzona",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "transactionId": {
                        "type": "string",
                        "description": "ID nowej transakcji",
                        "example": "87af45678cde1234567aef90"
                      },
                      "paymentMethodId": {
                        "type": "string",
                        "description": "Numer nowej transakcji transakcji",
                        "example": "TX3521"
                      },
                      "methodId": {
                        "type": "string",
                        "description": "id metody płatności",
                        "example": "64ae552251789abfdd123467"
                      },
                      "transactionAmount": {
                        "type": "number",
                        "description": "cena",
                        "example": 29.9
                      },
                      "userTicketId": {
                        "type": "string",
                        "description": "ID nowego biletu",
                        "example": "64aef23456789abcd1234567"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Nieprawidłowe dane wejściowe"
            },
            "401": {
              "description": "Brak dostępu"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/transactions/user/{userId}": {
        "get": {
          "summary": "Pobierz transakcje użytkownika (zalogowany użytkownik)",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Transactions"
          ],
          "parameters": [
            {
              "name": "userId",
              "in": "path",
              "required": true,
              "description": "ID użytkownika, którego transakcje chcesz pobrać",
              "schema": {
                "type": "string",
                "example": "64aef23456789abcd1234567"
              }
            }
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Zwraca listę transakcji użytkownika",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "number": {
                          "type": "string",
                          "example": "TX123456789"
                        },
                        "userId": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        },
                        "finalPrice": {
                          "type": "number",
                          "example": 150
                        },
                        "currency": {
                          "type": "string",
                          "example": "PLN"
                        },
                        "paymentDate": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-01-19T12:00:00Z"
                        },
                        "referenceId": {
                          "type": "string",
                          "example": "REF123456"
                        },
                        "methodId": {
                          "type": "string",
                          "example": "609f65f1e7b0b5c9d7c15e71"
                        },
                        "status": {
                          "type": "string",
                          "example": "progress"
                        }
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Brak tokenu lub nieprawidłowy token"
            },
            "404": {
              "description": "Nie znaleziono transakcji dla podanego użytkownika"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/transaction": {
        "get": {
          "summary": "Pobierz transakcję po ID",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Transactions"
          ],
          "parameters": [
            {
              "name": "id",
              "in": "query",
              "required": true,
              "description": "ID transakcji, którą chcesz pobrać",
              "schema": {
                "type": "string",
                "example": "TX123456789"
              }
            }
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Zwraca transakcję z powiązanymi danymi",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "transaction": {
                        "type": "object",
                        "description": "Szczegóły transakcji",
                        "properties": {
                          "_id": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "number": {
                            "type": "string",
                            "example": "TX123456789"
                          },
                          "userId": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "finalPrice": {
                            "type": "number",
                            "example": 150
                          },
                          "currency": {
                            "type": "string",
                            "example": "PLN"
                          },
                          "paymentDate": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-01-19T12:00:00Z"
                          },
                          "referenceId": {
                            "type": "string",
                            "example": "REF123456"
                          },
                          "methodId": {
                            "type": "string",
                            "example": "609f65f1e7b0b5c9d7c15e71"
                          },
                          "status": {
                            "type": "string",
                            "example": "progress"
                          }
                        }
                      },
                      "userTicket": {
                        "type": "object",
                        "description": "Szczegóły biletu użytkownika",
                        "properties": {
                          "id": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "number": {
                            "type": "string",
                            "example": "TK123456789"
                          },
                          "transactionId": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "userId": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "ticketId": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "reliefId": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "lineId": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "price": {
                            "type": "number",
                            "example": 150
                          },
                          "purchaseDate": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-01-19T12:00:00Z"
                          },
                          "ticketStartDate": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-02-01T00:00:00Z"
                          },
                          "ticketEndDate": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-02-28T23:59:59Z"
                          },
                          "QRCode": {
                            "type": "string",
                            "example": "QRCode string"
                          },
                          "statusId": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          }
                        }
                      },
                      "ticket": {
                        "type": "object",
                        "description": "Szczegóły biletu",
                        "properties": {
                          "_id": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "type": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "lines": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "period": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "price": {
                            "type": "number",
                            "example": 150
                          },
                          "ticketStartDate": {
                            "type": "string",
                            "format": "date-time",
                            "description": "czas rozpoczęcia oferty",
                            "example": "2025-02-01T00:00:00Z"
                          },
                          "ticketEndDate": {
                            "type": "string",
                            "format": "date-time",
                            "description": "czas zakończenia oferty (pole nieobowiązkowe)",
                            "example": "2025-02-28T23:59:59Z"
                          }
                        }
                      },
                      "relief": {
                        "type": "object",
                        "description": "Szczegóły ulgi",
                        "properties": {
                          "_id": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "name": {
                            "type": "string",
                            "example": "Student"
                          },
                          "type": {
                            "type": "string",
                            "description": "Typ ulgi",
                            "example": "64aef23456789abcd1234567"
                          },
                          "ticketType": {
                            "type": "string",
                            "description": "Typ biletu",
                            "example": "64aef23456789abcd1234567"
                          },
                          "percentage": {
                            "type": "number",
                            "description": "odpłatność",
                            "example": 50
                          },
                          "isActive": {
                            "type": "boolean",
                            "example": true
                          }
                        }
                      },
                      "line": {
                        "type": "object",
                        "description": "Szczegóły linii",
                        "properties": {
                          "id": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "number": {
                            "type": "string",
                            "example": "100"
                          },
                          "name": {
                            "type": "string",
                            "example": "Main Line"
                          },
                          "isActive": {
                            "type": "boolean",
                            "example": true
                          }
                        }
                      },
                      "user": {
                        "type": "object",
                        "description": "Szczegóły użytkownika",
                        "properties": {
                          "id": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "firstName": {
                            "type": "string",
                            "example": "Jan"
                          },
                          "lastName": {
                            "type": "string",
                            "example": "Kowalski"
                          },
                          "email": {
                            "type": "string",
                            "example": "user@example.com"
                          },
                          "pesel": {
                            "type": "number",
                            "example": 98123048291
                          },
                          "role": {
                            "type": "string",
                            "example": "user"
                          },
                          "active": {
                            "type": "boolean",
                            "example": true
                          },
                          "isAdmin": {
                            "type": "boolean",
                            "example": false
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Niepoprawne ID transakcji"
            },
            "401": {
              "description": "Brak tokenu lub nieprawidłowy token"
            },
            "404": {
              "description": "Nie znaleziono transakcji o podanym ID"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/transactions": {
        "get": {
          "summary": "Pobierz listę transakcji",
          "description": "Wymagany token w nagłówku, uprawnienia - administrator.",
          "tags": [
            "Transactions"
          ],
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "required": false,
              "description": "Numer strony (domyślnie 1)",
              "schema": {
                "type": "integer",
                "example": 1
              }
            },
            {
              "name": "pageSize",
              "in": "query",
              "required": false,
              "description": "Liczba wyników na stronie (domyślnie 10)",
              "schema": {
                "type": "integer",
                "example": 10
              }
            },
            {
              "name": "searchQuery",
              "in": "query",
              "required": false,
              "description": "Zapytanie do wyszukiwania w transakcjach",
              "schema": {
                "type": "string",
                "example": "student"
              }
            }
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Lista transakcji",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        },
                        "number": {
                          "type": "string",
                          "example": "TX123456789"
                        },
                        "userId": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        },
                        "finalPrice": {
                          "type": "number",
                          "example": 150
                        },
                        "currency": {
                          "type": "string",
                          "example": "PLN"
                        },
                        "paymentDate": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-01-19T12:00:00Z"
                        },
                        "referenceId": {
                          "type": "string",
                          "example": "REF123456"
                        },
                        "methodId": {
                          "type": "string",
                          "example": "609f65f1e7b0b5c9d7c15e71"
                        },
                        "status": {
                          "type": "string",
                          "example": "progress"
                        },
                        "userEmail": {
                          "type": "string",
                          "example": "user@example.com"
                        },
                        "ticketNumber": {
                          "type": "string",
                          "example": "123456"
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Błędne dane zapytania"
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/transaction/rollback": {
        "delete": {
          "summary": "Cofnięcie transakcji",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Transactions"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "query",
              "name": "transactionId",
              "required": true,
              "description": "ID transakcji, którą należy cofnąć",
              "schema": {
                "type": "string",
                "example": "64aef23456789abcd1234567"
              }
            },
            {
              "in": "query",
              "name": "ticketId",
              "required": true,
              "description": "ID biletu, związanego z transakcją",
              "schema": {
                "type": "string",
                "example": "64aef23456789abcd1234568"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Potwierdzenie sukcesu operacji rollback",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "message": {
                        "type": "string",
                        "example": "Transaction with ID 64aef23456789abcd1234567 successfully rollback"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Nieprawidłowe dane wejściowe"
            },
            "401": {
              "description": "Brak dostępu"
            },
            "404": {
              "description": "Transakcja lub bilet nie istnieje"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/user/auth": {
        "post": {
          "summary": "Logowanie użytkownika",
          "tags": [
            "Users"
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "email": {
                      "type": "string",
                      "description": "Adres e-mail użytkownika",
                      "example": "user@example.com"
                    },
                    "password": {
                      "type": "string",
                      "description": "Hasło użytkownika",
                      "example": "MyStrongPassword123!"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Zwraca dane",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "token": {
                        "type": "string",
                        "description": "Token JWT dla użytkownika"
                      },
                      "user": {
                        "type": "object",
                        "description": "Szczegóły użytkownika",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "ID użytkownika",
                            "example": "64aef23456789abcd1234567"
                          },
                          "firstName": {
                            "type": "string",
                            "description": "Imię",
                            "example": "Jan"
                          },
                          "lastName": {
                            "type": "string",
                            "description": "Nazwisko",
                            "example": "Kowalski"
                          },
                          "email": {
                            "type": "string",
                            "description": "Adres e-mail",
                            "example": "user@example.com"
                          },
                          "pesel": {
                            "type": "number",
                            "description": "PESEL",
                            "example": 98123048291
                          },
                          "role": {
                            "type": "string",
                            "description": "Rola użytkownika",
                            "example": "user"
                          },
                          "active": {
                            "type": "boolean",
                            "description": "Status aktywności użytkownika",
                            "example": true
                          },
                          "isAdmin": {
                            "type": "boolean",
                            "description": "Określa, czy użytkownik jest administratorem",
                            "example": false
                          }
                        }
                      },
                      "wallet": {
                        "type": "object",
                        "description": "Szczegóły portfela użytkownika",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "ID portfela",
                            "example": "64aef234514362bcd1234567"
                          },
                          "amount": {
                            "type": "number",
                            "description": "Kwota w portfelu użytkownika",
                            "example": 150
                          },
                          "userId": {
                            "type": "string",
                            "description": "ID użytkownika",
                            "example": "64aef23456789abcd1234567"
                          }
                        }
                      },
                      "address": {
                        "type": "object",
                        "description": "Adres użytkownika",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "ID",
                            "example": "64aef23456789abcd1234567"
                          },
                          "userId": {
                            "type": "string",
                            "description": "ID",
                            "example": "64aef23456789abcd1234567"
                          },
                          "fullAddress": {
                            "type": "string",
                            "description": "Adres",
                            "example": "Miła 10"
                          },
                          "town": {
                            "type": "string",
                            "description": "Miejscowość",
                            "example": "Zgłobice"
                          },
                          "postalCode": {
                            "type": "string",
                            "description": "Kod pocztowy",
                            "example": "33-113"
                          },
                          "postal": {
                            "type": "string",
                            "description": "Poczta",
                            "example": "Zgłobice"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Błąd uwierzytelnienia - nieprawidłowy e-mail lub hasło"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/user/create": {
        "post": {
          "summary": "Rejestracja nowego użytkownika",
          "tags": [
            "Users"
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "userData": {
                      "type": "object",
                      "description": "Szczegóły użytkownika",
                      "properties": {
                        "firstName": {
                          "type": "string",
                          "description": "Imię",
                          "example": "Jan"
                        },
                        "lastName": {
                          "type": "string",
                          "description": "Nazwisko",
                          "example": "Kowalski"
                        },
                        "email": {
                          "type": "string",
                          "description": "Adres e-mail",
                          "example": "user@example.com"
                        },
                        "pesel": {
                          "type": "number",
                          "description": "PESEL",
                          "example": 98123048291
                        },
                        "registrationDate": {
                          "type": "date",
                          "description": "Data rejestracji (format ISO)",
                          "example": "2025-01-19T00:00:00.000Z"
                        },
                        "password": {
                          "type": "string",
                          "description": "Hasło",
                          "example": "MyStrongPassword123!"
                        }
                      }
                    },
                    "addressData": {
                      "type": "object",
                      "description": "Adres użytkownika",
                      "properties": {
                        "userId": {
                          "type": "string",
                          "description": "ID (przy tworzeniu jako pusty string)",
                          "example": ""
                        },
                        "fullAddress": {
                          "type": "string",
                          "description": "Adres",
                          "example": "Miła 10"
                        },
                        "town": {
                          "type": "string",
                          "description": "Miejscowość",
                          "example": "Zgłobice"
                        },
                        "postalCode": {
                          "type": "string",
                          "description": "Kod pocztowy",
                          "example": "33-113"
                        },
                        "postal": {
                          "type": "string",
                          "description": "Poczta",
                          "example": "Zgłobice"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Zwraca dane",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "password": {
                        "type": "string",
                        "description": "zahashowane hasło",
                        "example": "d3d5f6e836fa1b0abdf2f22a01c7e2686b1dc7c9"
                      },
                      "userId": {
                        "type": "string",
                        "description": "ID użytkownika",
                        "example": "64aef23456789abcd1234567"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Nieprawidłowe dane wejściowe"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/user/restore/check": {
        "post": {
          "summary": "Odzyskiwanie hasła użytkownika - krok 1 (walidacja)",
          "tags": [
            "Users"
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "email": {
                      "type": "string",
                      "description": "Adres e-mail użytkownika",
                      "example": "user@example.com"
                    },
                    "checkPesel": {
                      "type": "string",
                      "description": "5 ostatnich cyfr PESEL",
                      "example": 12345
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Zwraca dane",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "description": "Szczegóły użytkownika",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "ID użytkownika",
                        "example": "64aef23456789abcd1234567"
                      },
                      "firstName": {
                        "type": "string",
                        "description": "Imię",
                        "example": "Jan"
                      },
                      "lastName": {
                        "type": "string",
                        "description": "Nazwisko",
                        "example": "Kowalski"
                      },
                      "email": {
                        "type": "string",
                        "description": "Adres e-mail",
                        "example": "user@example.com"
                      },
                      "pesel": {
                        "type": "number",
                        "description": "PESEL",
                        "example": 98123048291
                      },
                      "role": {
                        "type": "string",
                        "description": "Rola użytkownika",
                        "example": "user"
                      },
                      "active": {
                        "type": "boolean",
                        "description": "Status aktywności użytkownika",
                        "example": true
                      },
                      "isAdmin": {
                        "type": "boolean",
                        "description": "Określa, czy użytkownik jest administratorem",
                        "example": false
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Użytkownik nie istnieje"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "406": {
              "description": "Błędny PESEL"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/user/restore": {
        "post": {
          "summary": "Odzyskiwanie hasła użytkownika - krok 2 (zmiana hasła)",
          "tags": [
            "Users"
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "email": {
                      "type": "string",
                      "description": "Adres e-mail użytkownika",
                      "example": "user@example.com"
                    },
                    "newPassword": {
                      "type": "string",
                      "description": "Nowe hasło",
                      "example": "MyPasswordStrong321!"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Zwraca dane",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "password": {
                        "type": "string",
                        "description": "zahashowane hasło",
                        "example": "d3d5f6e836fa1b0abdf2f22a01c7e2686b1dc7c9"
                      },
                      "userId": {
                        "type": "string",
                        "description": "ID użytkownika",
                        "example": "64aef23456789abcd1234567"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Użytkownik nie istnieje"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "406": {
              "description": "Błędny PESEL"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/user/reset": {
        "post": {
          "summary": "Zmiana hasła (zalogowany użytkownik)",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Users"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "email": {
                      "type": "string",
                      "description": "Adres e-mail użytkownika",
                      "example": "user@example.com"
                    },
                    "oldPassword": {
                      "type": "string",
                      "description": "5 ostatnich cyfr PESEL",
                      "example": "MyStrongPassword123!"
                    },
                    "newPassword": {
                      "type": "string",
                      "description": "5 ostatnich cyfr PESEL",
                      "example": "MyPasswordStrong321!"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Zwraca dane",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "password": {
                        "type": "string",
                        "description": "zahashowane hasło",
                        "example": "d3d5f6e836fa1b0abdf2f22a01c7e2686b1dc7c9"
                      },
                      "userId": {
                        "type": "string",
                        "description": "ID użytkownika",
                        "example": "64aef23456789abcd1234567"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Użytkownik nie istnieje"
            },
            "401": {
              "description": "Brak dostępu"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "406": {
              "description": "Błędne stare hasło"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/user/address/update": {
        "post": {
          "summary": "Aktualizacja adresu (zalogowany użytkownik)",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "Users"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "ID (przy tworzeniu jako pusty string)",
                      "example": "64aef2345678973451234567"
                    },
                    "userId": {
                      "type": "string",
                      "description": "ID (przy tworzeniu jako pusty string)",
                      "example": "64aef23456789abcd1234567"
                    },
                    "fullAddress": {
                      "type": "string",
                      "description": "Adres",
                      "example": "Miła 10"
                    },
                    "town": {
                      "type": "string",
                      "description": "Miejscowość",
                      "example": "Zgłobice"
                    },
                    "postalCode": {
                      "type": "string",
                      "description": "Kod pocztowy",
                      "example": "33-113"
                    },
                    "postal": {
                      "type": "string",
                      "description": "Poczta",
                      "example": "Zgłobice"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Zwraca dane",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "ID (przy tworzeniu jako pusty string)",
                        "example": "64aef2345678973451234567"
                      },
                      "userId": {
                        "type": "string",
                        "description": "ID (przy tworzeniu jako pusty string)",
                        "example": "64aef23456789abcd1234567"
                      },
                      "fullAddress": {
                        "type": "string",
                        "description": "Adres",
                        "example": "Miła 10"
                      },
                      "town": {
                        "type": "string",
                        "description": "Miejscowość",
                        "example": "Zgłobice"
                      },
                      "postalCode": {
                        "type": "string",
                        "description": "Kod pocztowy",
                        "example": "33-113"
                      },
                      "postal": {
                        "type": "string",
                        "description": "Poczta",
                        "example": "Zgłobice"
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Brak dostępu"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/user/deactivate": {
        "post": {
          "summary": "Aktywana/dezaktywacja użytkownika (admin)",
          "description": "Wymagany token w nagłówku, uprawnienia - administrator.",
          "tags": [
            "Users"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "userId": {
                      "type": "string",
                      "description": "id użytkownika",
                      "example": "64aef23456789abcd1234567"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Zwraca dane",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "id użytkownika",
                        "example": "64aef23456789abcd1234567"
                      },
                      "firstName": {
                        "type": "string",
                        "description": "Imię",
                        "example": "Jan"
                      },
                      "lastName": {
                        "type": "string",
                        "description": "Nazwisko",
                        "example": "Kowalski"
                      },
                      "email": {
                        "type": "string",
                        "description": "Adres e-mail",
                        "example": "user@example.com"
                      },
                      "pesel": {
                        "type": "number",
                        "description": "PESEL",
                        "example": 98123048291
                      },
                      "registrationDate": {
                        "type": "date",
                        "description": "Data rejestracji (format ISO)",
                        "example": "2025-01-19T00:00:00.000Z"
                      },
                      "role": {
                        "type": "string",
                        "description": "rola (user lub admin)",
                        "example": "user"
                      },
                      "active": {
                        "type": "boolean",
                        "description": "czy aktywny?",
                        "example": true
                      },
                      "isAdmin": {
                        "type": "boolean",
                        "description": "administrator",
                        "example": false
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Brak dostępu"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/user": {
        "get": {
          "summary": "Szczegóły użytkownika (admin)",
          "description": "Wymagany token w nagłówku, uprawnienia - administrator.",
          "tags": [
            "Users"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "query",
              "name": "id",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "ID użytkownika"
            }
          ],
          "responses": {
            "200": {
              "description": "Zwraca dane",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "user": {
                        "type": "object",
                        "description": "Szczegóły użytkownika",
                        "properties": {
                          "id": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "firstName": {
                            "type": "string",
                            "example": "Jan"
                          },
                          "lastName": {
                            "type": "string",
                            "example": "Kowalski"
                          },
                          "email": {
                            "type": "string",
                            "example": "user@example.com"
                          },
                          "pesel": {
                            "type": "number",
                            "example": 98123048291
                          },
                          "role": {
                            "type": "string",
                            "example": "user"
                          },
                          "active": {
                            "type": "boolean",
                            "example": true
                          },
                          "isAdmin": {
                            "type": "boolean",
                            "example": false
                          }
                        }
                      },
                      "userTickets": {
                        "type": "number",
                        "description": "Liczba posiadanych biletów użytkownika"
                      },
                      "transactions": {
                        "type": "number",
                        "description": "Liczba transakcji użytkownika"
                      },
                      "wallet": {
                        "type": "object",
                        "description": "Szczegóły portfela użytkownika",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "ID portfela",
                            "example": "64aef234514362bcd1234567"
                          },
                          "amount": {
                            "type": "number",
                            "description": "Kwota w portfelu użytkownika",
                            "example": 150
                          },
                          "userId": {
                            "type": "string",
                            "description": "ID użytkownika",
                            "example": "64aef23456789abcd1234567"
                          }
                        }
                      },
                      "address": {
                        "type": "object",
                        "description": "Adres użytkownika",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "ID",
                            "example": "64aef23456789abcd1234567"
                          },
                          "userId": {
                            "type": "string",
                            "description": "ID",
                            "example": "64aef23456789abcd1234567"
                          },
                          "fullAddress": {
                            "type": "string",
                            "description": "Adres",
                            "example": "Miła 10"
                          },
                          "town": {
                            "type": "string",
                            "description": "Miejscowość",
                            "example": "Zgłobice"
                          },
                          "postalCode": {
                            "type": "string",
                            "description": "Kod pocztowy",
                            "example": "33-113"
                          },
                          "postal": {
                            "type": "string",
                            "description": "Poczta",
                            "example": "Zgłobice"
                          }
                        }
                      },
                      "topUps": {
                        "type": "number",
                        "description": "Liczba doładowań portfela użytkownika"
                      },
                      "sessions": {
                        "type": "number",
                        "description": "Liczba aktywnych sesji użytkownika"
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Brak dostępu"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/users": {
        "get": {
          "summary": "Pobieranie listy użytkowników - filtracja + paginacja (admin)",
          "description": "Wymagany token w nagłówku, uprawnienia - administrator.",
          "tags": [
            "Users"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "query",
              "name": "page",
              "schema": {
                "type": "integer",
                "default": 1
              },
              "description": "Numer strony (domyślnie 1)"
            },
            {
              "in": "query",
              "name": "pageSize",
              "schema": {
                "type": "integer",
                "default": 10
              },
              "description": "Liczba elementów na stronę (domyślnie 10)"
            },
            {
              "in": "query",
              "name": "searchQuery",
              "schema": {
                "type": "string"
              },
              "description": "Fraza do wyszukiwania użytkowników"
            }
          ],
          "responses": {
            "200": {
              "description": "Lista użytkowników",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "data": {
                        "type": "array",
                        "description": "Lista użytkowników",
                        "items": {
                          "type": "object",
                          "properties": {
                            "firstName": {
                              "type": "string",
                              "description": "Imię użytkownika",
                              "example": "Jan"
                            },
                            "lastName": {
                              "type": "string",
                              "description": "Nazwisko użytkownika",
                              "example": "Kowalski"
                            },
                            "email": {
                              "type": "string",
                              "description": "Adres e-mail użytkownika",
                              "example": "jan.kowalski@example.com"
                            },
                            "pesel": {
                              "type": "string",
                              "description": "PESEL użytkownika",
                              "example": 89010112345
                            },
                            "registrationDate": {
                              "type": "string",
                              "format": "date-time",
                              "description": "Data rejestracji użytkownika",
                              "example": "2025-01-19T15:30:00.000Z"
                            },
                            "role": {
                              "type": "string",
                              "description": "Rola użytkownika",
                              "example": "user"
                            },
                            "active": {
                              "type": "boolean",
                              "description": "Status aktywności użytkownika",
                              "example": true
                            },
                            "isAdmin": {
                              "type": "boolean",
                              "description": "Czy użytkownik jest administratorem",
                              "example": false
                            }
                          }
                        }
                      },
                      "page": {
                        "type": "integer",
                        "description": "Aktualna strona",
                        "example": 1
                      },
                      "pageSize": {
                        "type": "integer",
                        "description": "Liczba elementów na stronie",
                        "example": 10
                      },
                      "totalPages": {
                        "type": "integer",
                        "description": "Łączna liczba stron",
                        "example": 5
                      },
                      "totalRecords": {
                        "type": "integer",
                        "description": "Łączna liczba rekordów",
                        "example": 50
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Brak dostępu"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/user/logout": {
        "delete": {
          "summary": "Wylogowanie",
          "tags": [
            "Users"
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "userId": {
                      "type": "string",
                      "description": "id użytkownika",
                      "example": "64aef23456789abcd1234567"
                    },
                    "token": {
                      "type": "string",
                      "description": "token",
                      "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2NGFlZjIzNDU2Nzg5YWJjZDEyMzQ1NjciLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20iLCJyb2xlIjoidXNlciIsImV4cCI6MTczNzMwNjI1MX0.LDtHy7JaTbUlxKepnNr0XAx4rGsuoyuPIqtttfmGEeI"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Zwraca dane",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "password": {
                        "type": "string",
                        "description": "zahashowane hasło",
                        "example": "d3d5f6e836fa1b0abdf2f22a01c7e2686b1dc7c9"
                      },
                      "userId": {
                        "type": "string",
                        "description": "ID użytkownika",
                        "example": "64aef23456789abcd1234567"
                      }
                    }
                  }
                }
              }
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/user-ticket/create": {
        "post": {
          "summary": "Tworzenie lub aktualizowanie biletu użytkownika",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "User Ticket"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "number": {
                      "type": "string",
                      "description": "numer jest generowany przez serwer, należy przesłać pusty string",
                      "example": ""
                    },
                    "transactionId": {
                      "type": "string",
                      "example": "64aef23456789abcd1234567"
                    },
                    "userId": {
                      "type": "string",
                      "example": "64aef23456789abcd1234567"
                    },
                    "ticketId": {
                      "type": "string",
                      "example": "64aef23456789abcd1234567"
                    },
                    "reliefId": {
                      "type": "string",
                      "example": "64aef23456789abcd1234567"
                    },
                    "lineId": {
                      "type": "string",
                      "example": "64aef23456789abcd1234567"
                    },
                    "price": {
                      "type": "number",
                      "example": 50
                    },
                    "purchaseDate": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2025-01-19T12:00:00Z"
                    },
                    "ticketStartDate": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2025-01-19T12:00:00Z"
                    },
                    "ticketEndDate": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2025-02-19T12:00:00Z"
                    },
                    "QRCode": {
                      "type": "string",
                      "example": "QR1234567890"
                    },
                    "statusId": {
                      "type": "string",
                      "example": "64aef23456789abcd1234567"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Bilet użytkownika został pomyślnie utworzony lub zaktualizowany",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "_id": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "number": {
                        "type": "string",
                        "example": "TICKET12345"
                      },
                      "transactionId": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "userId": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "ticketId": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "reliefId": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "lineId": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "price": {
                        "type": "number",
                        "example": 50
                      },
                      "purchaseDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-01-19T12:00:00Z"
                      },
                      "ticketStartDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-01-19T12:00:00Z"
                      },
                      "ticketEndDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-02-19T12:00:00Z"
                      },
                      "QRCode": {
                        "type": "string",
                        "example": "QR1234567890"
                      },
                      "statusId": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Zły format danych lub brak wymaganych pól"
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/user-ticket/validate": {
        "post": {
          "summary": "Walidacja biletu użytkownika",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "User Ticket"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "userTicketId": {
                      "type": "string",
                      "description": "ID biletu użytkownika do walidacji",
                      "example": "64aef23456789abcd1234567"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Zwalidowany bilet użytkownika",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "_id": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "number": {
                        "type": "string",
                        "example": "TICKET12345"
                      },
                      "transactionId": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "userId": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "ticketId": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "reliefId": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "lineId": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      },
                      "price": {
                        "type": "number",
                        "example": 50
                      },
                      "purchaseDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-01-19T12:00:00Z"
                      },
                      "ticketStartDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-01-19T12:00:00Z"
                      },
                      "ticketEndDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-02-19T12:00:00Z"
                      },
                      "QRCode": {
                        "type": "string",
                        "example": "QR1234567890"
                      },
                      "statusId": {
                        "type": "string",
                        "example": "64aef23456789abcd1234567"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Zły format danych lub brak wymaganych pól"
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/user-ticket/{id}": {
        "get": {
          "summary": "Pobierz szczegóły biletu użytkownika",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "User Ticket"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "description": "ID biletu użytkownika",
              "schema": {
                "type": "string",
                "example": "64aef23456789abcd1234567"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Szczegóły biletu użytkownika oraz transakcji",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "userTicket": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "number": {
                            "type": "string",
                            "example": "TICKET12345"
                          },
                          "transactionId": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "userId": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "ticketId": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "reliefId": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "lineId": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "price": {
                            "type": "number",
                            "example": 50
                          },
                          "purchaseDate": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-01-19T12:00:00Z"
                          },
                          "ticketStartDate": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-01-19T12:00:00Z"
                          },
                          "ticketEndDate": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-02-19T12:00:00Z"
                          },
                          "QRCode": {
                            "type": "string",
                            "example": "QR1234567890"
                          },
                          "statusId": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          }
                        }
                      },
                      "transaction": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "number": {
                            "type": "string",
                            "example": "TRANSACTION12345"
                          },
                          "userId": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "finalPrice": {
                            "type": "number",
                            "example": 50
                          },
                          "currency": {
                            "type": "string",
                            "example": "PLN"
                          },
                          "paymentDate": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-01-19T12:00:00Z"
                          },
                          "referenceId": {
                            "type": "string",
                            "example": "REF123456789"
                          },
                          "methodId": {
                            "type": "string",
                            "example": "64aef23456789abcd1234567"
                          },
                          "status": {
                            "type": "string",
                            "example": "progress"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Zły format danych lub brak wymaganych pól"
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/user-ticket/user/{userId}": {
        "get": {
          "summary": "Pobierz bilety użytkownika",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "User Ticket"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "userId",
              "in": "path",
              "required": true,
              "description": "ID użytkownika",
              "schema": {
                "type": "string",
                "example": "64aef23456789abcd1234567"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Lista biletów użytkownika",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        },
                        "number": {
                          "type": "string",
                          "example": "TICKET12345"
                        },
                        "transactionId": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        },
                        "userId": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        },
                        "ticketId": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        },
                        "reliefId": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        },
                        "lineId": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        },
                        "price": {
                          "type": "number",
                          "example": 50
                        },
                        "purchaseDate": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-01-19T12:00:00Z"
                        },
                        "ticketStartDate": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-01-19T12:00:00Z"
                        },
                        "ticketEndDate": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-02-19T12:00:00Z"
                        },
                        "QRCode": {
                          "type": "string",
                          "example": "QR1234567890"
                        },
                        "statusId": {
                          "type": "string",
                          "example": "64aef23456789abcd1234567"
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Zły format danych lub brak wymaganych pól"
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      },
      "/api/user-ticket/dashboard/user/{userId}": {
        "get": {
          "summary": "Pobierz dane dashboardu biletu użytkownika",
          "description": "Wymagany token w nagłówku, uprawnienia - wszyscy użytkownicy.",
          "tags": [
            "User Ticket"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "userId",
              "in": "path",
              "required": true,
              "description": "ID użytkownika, dla którego pobierane są dane dashboardu",
              "schema": {
                "type": "string",
                "example": "64aef23456789abcd1234567"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Dane dashboardu użytkownika",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "active": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "number": {
                              "type": "string",
                              "example": "TICKET12345"
                            },
                            "transactionId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "userId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "ticketId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "reliefId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "lineId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "price": {
                              "type": "number",
                              "example": 50
                            },
                            "purchaseDate": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-01-19T12:00:00Z"
                            },
                            "ticketStartDate": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-01-19T12:00:00Z"
                            },
                            "ticketEndDate": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-02-19T12:00:00Z"
                            },
                            "QRCode": {
                              "type": "string",
                              "example": "QR1234567890"
                            },
                            "statusId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            }
                          }
                        }
                      },
                      "toValidate": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "number": {
                              "type": "string",
                              "example": "TICKET67890"
                            },
                            "transactionId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "userId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "ticketId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "reliefId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "lineId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            },
                            "price": {
                              "type": "number",
                              "example": 50
                            },
                            "purchaseDate": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-01-19T12:00:00Z"
                            },
                            "ticketStartDate": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-01-19T12:00:00Z"
                            },
                            "ticketEndDate": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-02-19T12:00:00Z"
                            },
                            "QRCode": {
                              "type": "string",
                              "example": "QR9876543210"
                            },
                            "statusId": {
                              "type": "string",
                              "example": "64aef23456789abcd1234567"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Zły format danych lub brak wymaganych pól"
            },
            "401": {
              "description": "Brak lub nieprawidłowy token"
            },
            "404": {
              "description": "Nie odpowiada"
            },
            "500": {
              "description": "Wewnętrzny błąd serwera"
            }
          }
        }
      }
    }
  },
  "customOptions": {}
};
  url = options.swaggerUrl || url
  var urls = options.swaggerUrls
  var customOptions = options.customOptions
  var spec1 = options.swaggerDoc
  var swaggerOptions = {
    spec: spec1,
    url: url,
    urls: urls,
    dom_id: '#swagger-ui',
    deepLinking: true,
    presets: [
      SwaggerUIBundle.presets.apis,
      SwaggerUIStandalonePreset
    ],
    plugins: [
      SwaggerUIBundle.plugins.DownloadUrl
    ],
    layout: "StandaloneLayout"
  }
  for (var attrname in customOptions) {
    swaggerOptions[attrname] = customOptions[attrname];
  }
  var ui = SwaggerUIBundle(swaggerOptions)

  if (customOptions.oauth) {
    ui.initOAuth(customOptions.oauth)
  }

  if (customOptions.preauthorizeApiKey) {
    const key = customOptions.preauthorizeApiKey.authDefinitionKey;
    const value = customOptions.preauthorizeApiKey.apiKeyValue;
    if (!!key && !!value) {
      const pid = setInterval(() => {
        const authorized = ui.preauthorizeApiKey(key, value);
        if(!!authorized) clearInterval(pid);
      }, 500)

    }
  }

  if (customOptions.authAction) {
    ui.authActions.authorize(customOptions.authAction)
  }

  window.ui = ui
}
